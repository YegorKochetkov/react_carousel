{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","animationDurationInner","props","animationDuration","isScrollAnimationInnerOn","isScrollAnimationOn","this","images","imageWidth","visibleFrameOfBlockImages","shiftBlockOfImages","shiftInnerBlockOfImages","className","style","width","height","transform","transition","map","image","index","src","alt","String","React","Component","App","settings","stepToShiftBlockOfImages","isInfiniteScrollOn","isPreviousScrollLeftAnimationOver","scrollLeft","setState","shift","addShift","length","scrollRight","prevImage","splice","newSettings","newImages","setTimeout","parameter","newValue","type","onClick","disabled","min","max","defaultValue","onChange","target","updateSettings","Number","value","step","defaultChecked","checked","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04218ec2.chunk.js","sourcesContent":["import React from 'react';\nimport './Carousel.scss';\n\ninterface Props {\n  images: string[],\n  imageWidth: number,\n  visibleFrameOfBlockImages: number,\n  animationDuration: number,\n  isScrollAnimationOn: boolean,\n  shiftBlockOfImages: number,\n  shiftInnerBlockOfImages: number,\n}\n\ntype State = {\n  animationDurationInner: number,\n  isScrollAnimationInnerOn: boolean,\n};\n\nclass Carousel extends React.Component<Props, State> {\n  state: State = {\n    animationDurationInner: this.props.animationDuration,\n    isScrollAnimationInnerOn: this.props.isScrollAnimationOn,\n  };\n\n  render() {\n    const {\n      images,\n      imageWidth,\n      visibleFrameOfBlockImages,\n      animationDuration,\n      isScrollAnimationOn,\n      shiftBlockOfImages,\n      shiftInnerBlockOfImages,\n    } = this.props;\n\n    const { animationDurationInner, isScrollAnimationInnerOn } = this.state;\n\n    return (\n      <>\n        <div\n          className=\"carousel\"\n          style={{\n            width: `${imageWidth * visibleFrameOfBlockImages}px`,\n            height: `${imageWidth + 4}px`,\n          }}\n        >\n          <div\n            className=\"carousel__container\"\n            style={{\n              transform: `translateX(${shiftBlockOfImages}px)`,\n              transition: `transform ${isScrollAnimationOn ? animationDuration : 0}ms`,\n            }}\n          >\n            <div\n              style={{\n                transform: `translateX(${shiftInnerBlockOfImages}px`,\n                transition: `transform ${isScrollAnimationInnerOn ? animationDurationInner : 0}ms`,\n              }}\n            >\n              {images.map((image, index) => (\n                <img\n                  key={image + String(index)}\n                  src={image}\n                  alt={image}\n                  style={{\n                    width: `${imageWidth}px`,\n                  }}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ntype Settings = {\n  visibleFrameOfBlockImages: number;\n  imageWidth: number;\n  stepToShiftBlockOfImages: number;\n  isScrollAnimationOn: boolean,\n  animationDuration: number;\n  isInfiniteScrollOn: boolean;\n  shiftBlockOfImages: number,\n  shiftInnerBlockOfImages: number,\n  isPreviousScrollLeftAnimationOver: boolean,\n};\n\ntype State = {\n  images: string[];\n  settings: Settings;\n};\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    settings: {\n      imageWidth: 130,\n      visibleFrameOfBlockImages: 3,\n      stepToShiftBlockOfImages: 3,\n      animationDuration: 1000,\n      isScrollAnimationOn: true,\n      isInfiniteScrollOn: false,\n      shiftBlockOfImages: 0,\n      shiftInnerBlockOfImages: 0,\n      isPreviousScrollLeftAnimationOver: false,\n    },\n  };\n\n  componentDidUpdate() {\n    const {\n      imageWidth,\n      stepToShiftBlockOfImages,\n      animationDuration,\n      isScrollAnimationOn,\n      isInfiniteScrollOn,\n      isPreviousScrollLeftAnimationOver,\n    } = this.state.settings;\n\n    const { images } = this.state;\n\n    if (!isScrollAnimationOn && !isInfiniteScrollOn) {\n      const newSettings = this.state.settings;\n\n      this.setState({\n        settings: {\n          ...newSettings,\n          isScrollAnimationOn: true,\n          shiftBlockOfImages: 0,\n          shiftInnerBlockOfImages: 0,\n        },\n      });\n    }\n\n    if (isPreviousScrollLeftAnimationOver\n      && isInfiniteScrollOn) {\n      const prevImage = images.splice(0, stepToShiftBlockOfImages);\n      const newImages = [...images, ...prevImage];\n      const shift = imageWidth * stepToShiftBlockOfImages;\n\n      setTimeout(() => {\n        this.setState(({ settings }) => {\n          const {\n            shiftBlockOfImages,\n            shiftInnerBlockOfImages,\n          } = settings;\n\n          return ({\n            images: newImages,\n            settings: {\n              ...settings,\n              isScrollAnimationOn: false,\n              shiftBlockOfImages: shiftBlockOfImages + shift,\n              shiftInnerBlockOfImages,\n              isPreviousScrollLeftAnimationOver: false,\n            },\n          });\n        });\n      }, animationDuration);\n    }\n  }\n\n  scrollLeft = () => {\n    const {\n      isInfiniteScrollOn,\n      isPreviousScrollLeftAnimationOver,\n    } = this.state.settings;\n\n    if (isInfiniteScrollOn && !isPreviousScrollLeftAnimationOver) {\n      this.setState(({ settings }) => {\n        const {\n          imageWidth,\n          stepToShiftBlockOfImages,\n          shiftBlockOfImages,\n          shiftInnerBlockOfImages,\n        } = settings;\n\n        const shift = imageWidth * stepToShiftBlockOfImages;\n\n        return ({\n          settings: {\n            ...settings,\n            isScrollAnimationOn: true,\n            shiftBlockOfImages: shiftBlockOfImages - shift,\n            shiftInnerBlockOfImages,\n            isPreviousScrollLeftAnimationOver: true,\n          },\n        });\n      });\n    }\n\n    if (!isInfiniteScrollOn) {\n      this.setState(({ images, settings }) => {\n        const {\n          imageWidth,\n          visibleFrameOfBlockImages,\n          stepToShiftBlockOfImages,\n          shiftBlockOfImages,\n        } = settings;\n\n        const shift = imageWidth * stepToShiftBlockOfImages;\n        let addShift = shiftBlockOfImages - shift;\n\n        if (shiftBlockOfImages - shift\n            < -(images.length - 1) * imageWidth) {\n          addShift = -(images.length - visibleFrameOfBlockImages)\n            * imageWidth;\n        }\n\n        return ({\n          images,\n          settings: {\n            ...settings,\n            shiftBlockOfImages: addShift,\n          },\n        });\n      });\n    }\n  };\n\n  scrollRight = () => {\n    const {\n      isInfiniteScrollOn,\n    } = this.state.settings;\n\n    if (isInfiniteScrollOn) {\n      this.setState(({ images, settings }) => {\n        const {\n          imageWidth,\n          stepToShiftBlockOfImages,\n          shiftBlockOfImages,\n          shiftInnerBlockOfImages,\n        } = settings;\n\n        const prevImage = images.splice(-stepToShiftBlockOfImages);\n        const newImages = [...prevImage, ...images];\n        const shift = imageWidth * stepToShiftBlockOfImages;\n\n        return ({\n          images: newImages,\n          settings: {\n            ...settings,\n            shiftBlockOfImages: shiftBlockOfImages - shift,\n            shiftInnerBlockOfImages: shiftInnerBlockOfImages + shift,\n            isScrollAnimationOn: false,\n          },\n        });\n      });\n    }\n\n    if (!isInfiniteScrollOn) {\n      this.setState(({ images, settings }) => {\n        const {\n          imageWidth,\n          stepToShiftBlockOfImages,\n          shiftBlockOfImages,\n        } = settings;\n\n        const shift = imageWidth * stepToShiftBlockOfImages;\n\n        let addShift = shiftBlockOfImages + shift;\n\n        if (shiftBlockOfImages + shift > 0) {\n          addShift = 0;\n        }\n\n        return ({\n          images,\n          settings: {\n            ...settings,\n            shiftBlockOfImages: addShift,\n          },\n        });\n      });\n    }\n  };\n\n  updateSettings\n  <T extends keyof Settings>(parameter: T, newValue: Settings[T]) {\n    this.setState(({ settings }) => ({\n      settings: {\n        ...settings,\n        [parameter]: newValue,\n      },\n    }));\n  }\n\n  render() {\n    const { images } = this.state;\n    const {\n      imageWidth,\n      visibleFrameOfBlockImages,\n      stepToShiftBlockOfImages,\n      animationDuration,\n      isScrollAnimationOn,\n      isInfiniteScrollOn,\n      shiftBlockOfImages,\n      shiftInnerBlockOfImages,\n    } = this.state.settings;\n\n    return (\n      <div className=\"app\">\n        <h1>\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          imageWidth={imageWidth}\n          visibleFrameOfBlockImages={visibleFrameOfBlockImages}\n          animationDuration={animationDuration}\n          isScrollAnimationOn={isScrollAnimationOn}\n          shiftBlockOfImages={shiftBlockOfImages}\n          shiftInnerBlockOfImages={shiftInnerBlockOfImages}\n        />\n        <div className=\"carousel__buttons\">\n          <button\n            type=\"button\"\n            className=\"carousel__prev-button\"\n            onClick={this.scrollRight}\n            disabled={\n              !isInfiniteScrollOn\n              && shiftBlockOfImages >= 0\n            }\n          >\n            {'<'}\n          </button>\n          <button\n            type=\"button\"\n            className=\"carousel__next-button\"\n            onClick={this.scrollLeft}\n            disabled={\n              !isInfiniteScrollOn\n              && shiftBlockOfImages\n                < -(images.length - visibleFrameOfBlockImages - 1) * imageWidth\n            }\n          >\n            {'>'}\n          </button>\n        </div>\n        <fieldset className=\"app__settings\">\n          <label className=\"app__setting\">\n            Step:\n            <input\n              className=\"app__step\"\n              type=\"number\"\n              min=\"1\"\n              max={images.length}\n              defaultValue={stepToShiftBlockOfImages}\n              onChange={\n                (({ target }) => this\n                  .updateSettings('stepToShiftBlockOfImages',\n                    Number(target.value)))\n              }\n            />\n          </label>\n\n          <label className=\"app__setting\">\n            Frame size:\n            <input\n              className=\"app__frame-size\"\n              type=\"number\"\n              min=\"1\"\n              max={images.length}\n              defaultValue={visibleFrameOfBlockImages}\n              onChange={\n                (({ target }) => this\n                  .updateSettings('visibleFrameOfBlockImages',\n                    Number(target.value)))\n              }\n            />\n          </label>\n\n          <label className=\"app__setting\">\n            Item width:\n            <input\n              className=\"app__item-width\"\n              type=\"number\"\n              min=\"80\"\n              max=\"180\"\n              step=\"10\"\n              defaultValue={imageWidth}\n              onChange={\n                (({ target }) => this\n                  .updateSettings('imageWidth', Number(target.value)))\n              }\n            />\n          </label>\n\n          <label className=\"app__setting\">\n            Anitmation duration:\n            <input\n              className=\"app__animation-duration\"\n              type=\"number\"\n              min=\"0\"\n              max=\"2000\"\n              step=\"500\"\n              defaultValue={animationDuration}\n              onChange={\n                (({ target }) => this\n                  .updateSettings('animationDuration', Number(target.value)))\n              }\n            />\n          </label>\n\n          <label className=\"app__setting\">\n            Infinite:\n            <input\n              className=\"app__infinite\"\n              type=\"checkbox\"\n              defaultChecked={isInfiniteScrollOn}\n              onChange={\n                (({ target }) => this\n                  .updateSettings('isInfiniteScrollOn', target.checked))\n              }\n            />\n            {\n              isInfiniteScrollOn\n                ? 'Yes'\n                : 'No'\n            }\n          </label>\n        </fieldset>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}